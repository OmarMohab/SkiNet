import{b as $}from"./chunk-MFIZZ55J.js";import{Q as u,U as s,cc as l,ic as h,mc as y,n as f,s as d,ya as p}from"./chunk-UNM6CKSO.js";var O=(t,r)=>{let n=s($),o=s(h);return n.currentUser()?f(!0):n.getAuthState().pipe(d(e=>e.isAuthenticated?!0:(o.navigate(["/account/login"],{queryParams:{returnUrl:r.url}}),!1)))};var C=class t{baseUrl=y.apiUrl;http=s(l);orderComplete=!1;createOrder(r){return this.http.post(this.baseUrl+"orders",r)}getOrdersForUser(){return this.http.get(this.baseUrl+"orders")}getOrderDetailed(r){return this.http.get(this.baseUrl+"orders/"+r)}static \u0275fac=function(n){return new(n||t)};static \u0275prov=u({token:t,factory:t.\u0275fac,providedIn:"root"})};var k=class t{transform(r,...n){if(r&&"card"in r){let{brand:o,last4:e,exp_month:i,exp_year:a}=r.card;return`${o.toUpperCase()} **** **** **** ${e}, Exp: ${i}/${a}`}else if(r&&"last4"in r){let{brand:o,last4:e,expMonth:i,expYear:a}=r;return`${o.toUpperCase()} **** **** **** ${e}, Exp: ${i}/${a}`}else return"Unkown Payment"}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=p({name:"payment",type:t,pure:!0})};var P=class t{transform(r,...n){if(r&&"address"in r&&r.name){let{line1:o,line2:e,city:i,state:a,country:m,postal_code:c}=r?.address;return`${r.name}, ${o}${e?", "+e:""}, ${i}, ${a}, ${c}, ${m}`}else if(r&&"line1"in r){let{line1:o,line2:e,city:i,state:a,country:m,postalCode:c}=r;return`${r.name}, ${o}${e?", "+e:""}, ${i}, ${a}, ${c}, ${m}`}else return"Unknown address"}static \u0275fac=function(n){return new(n||t)};static \u0275pipe=p({name:"address",type:t,pure:!0})};export{O as a,C as b,k as c,P as d};
